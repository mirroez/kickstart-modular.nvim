--[[⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠠⣄⠀⠀⠀⠀⠐⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀]]
--[[⠀⠀⠀⠀⠀⠀⢀⣼⣿⣿⣿⣿⣷⣦⣤⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢻⠆⠀⠀⠀⠀⠈⢷⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀]]
--[[⠀⠀⠀⠀⠀⢠⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣤⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀]]
--[[⠀⠀⠀⠀⢠⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣦⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⠀⠀⣀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀]]
--[[⠀⠀⠀⠀⡘⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠛⠂⠸⣿⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀]]
--[[⠀⠀⠀⠀⣿⣌⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢤⡤⢜⣰⣆⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀]]
--[[⠐⡀⠀⢢⠸⣿⣮⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⠿⠛⠛⠉⣡⣿⣿⣿⣿⣿⣿⣦⡀⠀⠀⠀⠀⠀⠀⣰⣿⣶⡿⠛⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀]]
--[[⠀⠹⣆⠘⣇⠹⠿⠗⠛⣛⣋⣉⣉⣉⣉⣀⡀⠠⠤⠤⢴⣶⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⠀⠀⠀⠀⠀⠀⠙⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀]]
--[[⢀⠀⠹⣷⣿⣆⢲⣿⣿⣝⣿⣿⡿⢟⣩⣤⣤⣤⣤⣤⣀⡈⠻⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀]]
--[[⠈⠆⠀⠹⣿⣿⢆⢻⣿⣿⡎⢿⣾⣿⣿⣿⣿⣿⣿⡿⣿⣿⣷⣾⣿⣿⣿⣿⣿⣿⣿⣷⡀⠀⠀⠀⠀⢀⣤⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀]]
--[[⢸⠌⠀⠀⠹⡝⠎⢣⠻⣿⣾⣎⠿⠟⠉⠁⠀⣤⣦⠀⢀⣀⡀⣽⣿⣿⣿⣿⣿⣿⣿⣿⣷⠀⠀⠀⠀⠘⣿⣿⣿⣦⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀]]
--[[⢨⠀⠀⠀⠀⠘⠀⠀⠃⠹⠛⠁⠀⠀⠀⠀⠀⢨⡁⣼⣿⣿⣿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⠀⠀⠀⠀⠈⢿⣿⣿⣿⣷⣦⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⠀⠄⠀⠀]]
--[[⢀⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣄⣀⣖⣚⣩⣼⣿⣿⣟⣥⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣇⠀⠀⠀⠀⠈⢻⣿⣿⣿⣿⣿⡆⠀⠀⠀⠀⠀⠀⠀⠀⠈⠀⠀⠀⠀]]
--[[⠘⡆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢿⣿⡞⠿⢛⣽⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣇⠀⠀⠀⠀⠀⠻⣿⣿⣿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣦⠀⠀]]
--[[⠀⠹⡀⠀⠀⠀⠀⠐⣄⠀⠀⠀⠘⢷⣦⡰⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡆⠀⠀⠀⠀⠀⠙⣿⣿⡿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⣷⡄]]
--[[⠀⠀⢣⠀⠀⠀⠀⠀⢻⣦⠀⠀⠀⠈⢻⣧⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣄⠀⠀⠀⠀⠀⠈⠻⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿]]
--[[⠀⠀⠈⠆⠀⠀⠀⠀⠈⣿⣷⡄⠀⠀⠀⠙⠞⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⣿]]
--[[⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⢿⣿⣦⡀⠀⠀⠀⠹⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⣻⣿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠻⣿]]
--[[⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠻⣿⣿⣦⡀⠀⠀⠈⠙⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈]]
--[[⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⢿⣿⣿⣦⣀⠀⠢⣄⣉⠛⠿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠗⠀⠀⣀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀]]
--[[⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣤⠄⠀⠻⣿⣿⣿⣷⣶⣤⣍⣛⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠋⠉⠀⢀⣠⡾⠟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀]]
--[[⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠹⣧⡀⠀⠀⠈⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠟⢁⣤⣶⠿⠛⢉⣴⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀]]
--[[⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣶⣄⠀⠙⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠋⠀⠈⠉⠀⠰⠖⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀]]
--[[⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⣷⣦⡀⠙⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣶⣶⣤⣄⣀⡀⢀⣀⣤⣦⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀]]
--require'alpha'.setup(
--  require'alpha.themes.startify'.config
--)

--function read_header_from_file(path)
--    local lines = {}
--    path = vim.fs.normalize(path)
--    for line in io.lines(path) do
--        table.insert(lines, line)
--    end
--    return lines
--end

local alpha = require 'alpha'
local dashboard = require 'alpha.themes.dashboard'
local startify = require 'alpha.themes.startify'
-- local theta = require 'alpha.themes.theta'

-- Set header

dashboard.section.header.val = {
  [[⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿ ⣿⣿⣿⣿⣿⡇⠀⠀⣰⣿⣿⣿⣷⢻⣿⠇⠀⠀⠀⣾⣿⣿⡏⢀⠃⢿⣿⣿⣿⣿⣿⣿⣿⣦⣤⡀⠀⠀⠀⠀]],
  [[⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠋⣠⣶⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿ ⣿⣿⣿⣿⣿⣿⡀⠀⣿⣿⢛⣿⣿⣿⡿⠀⠀⠀⢰⣿⣿⣿⡇⣼⣷⣦⡉⠻⣿⣿⣿⣿⣿⣿⣿⣷⠀⠀⠀⠀]],
  [[⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣡⣾⣿⣿⣿⣿⣿⢿⣿⣿⣿⣿⣿⣿⣟⠻⣿⣿⣿⣿⣿⣿⣿ ⣿⣿⣿⣿⣿⣿⣧⠀⠘⣿⣘⠟⣹⣿⡇⠀⠀⢀⣿⣿⣷⡉⠁⠻⠿⣿⣿⣦⡀⠙⢿⣿⣿⣿⣿⣿⣿⣷⣶⠀]],
  [[⣿⣿⣿⣿⣿⣿⣿⣿⡿⢫⣷⣿⣿⣿⣿⣿⣿⣿⣾⣯⣿⡿⢧⡚⢷⣌⣽⣿⣿⣿⣿⣿⣶⡌⣿⣿⣿⣿⣿ ⣿⣿⣿⣿⣿⣿⣿⡆⠀⢨⣿⣧⣾⣿⠁⠀⠀⢸⣿⣿⣿⣿⡀⠐⢠⣌⡛⢿⣟⢆⠀⢹⣿⣿⣿⣿⣿⣿⡏⠀]],
  [[⣿⣿⣿⣿⣿⣿⣿⣿⠇⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣮⣇⣘⠿⢹⣿⣿⣿⣿⣿⣻⢿⣿⣿⣿⣿ ⣿⣿⣿⣿⣿⣿⣿⣿⢀⣿⡟⠛⣿⣿⠀⠀⠀⣾⣿⣿⣿⣿⣿⣶⣿⣿⣿⣤⣿⣾⣧⣾⣿⣿⣿⣿⣿⣿⠁⠀]],
  [[⣿⣿⣿⣿⣿⣿⣿⣿⠀⢸⣿⣿⡇⣿⣿⣿⣿⣿⣿⣿⣿⡟⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣦⣻⣿⣿⣿ ⣿⣿⣿⣿⡿⠿⢿⣧⣾⣿⠗⢰⣿⢿⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠛⠉⣉⠀⠀⠀⠀]],
  [[⣿⣿⣿⣿⣿⣿⣿⡇⠀⣬⠏⣿⡇⢻⣿⣿⣿⣿⣿⣿⣿⣷⣼⣿⣿⣸⣿⣿⣿⣿⣿⣿⣿⣿⣿⢻⣿⣿⣿ ⠿⠿⢛⡁⠀⠀⢈⣿⣿⣂⠀⣀⡋⣼⡀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢁⠀⣶⠆⠀⠀⠀⠀⠀]],
  [[⣿⣿⣿⣿⣿⣿⣿⠀⠈⠁⠀⣿⡇⠘⡟⣿⣿⣿⣿⣿⣿⣿⣿⡏⠿⣿⣟⣿⣿⣿⣿⣿⣿⣿⣿⣇⣿⣿⣿ ⠀⠀⠀⠈⠀⢀⣾⣿⣿⣿⡆⠁⠀⣿⡇⠀⢠⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢸⣧⠀⠀⠀⠀⠀⠀⠀]],
  [[⣿⣿⣿⣿⣿⣿⡏⠀⠀⠐⠀⢻⣇⠀⠀⠹⣿⣿⣿⣿⣿⣿⣩⡶⠼⠟⠻⠞⣿⡈⠻⣟⢻⣿⣿⣿⣿⣿⣿ ⠀⠀⠀⠀⠀⣾⣿⣿⣿⣿⣇⣤⣿⡿⣿⠀⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠸⠋⠀⠀⠀⠀⡀⠀⠀]],
  [[⣿⣿⣿⣿⣿⣿⡇⠀⠀⠀⠀⠀⢿⠀⡆⠀⠘⢿⢻⡿⣿⣧⣷⢣⣶⡃⢀⣾⡆⡋⣧⠙⢿⣿⣿⣟⣿⣿⣿ ⠀⠀⠀⠀⠀⠈⠻⣿⣿⣿⣿⣿⣿⣿⡝⢇⠀⣿⣿⣿⣿⣿⣿⡙⢿⡛⠻⣿⣿⣭⠤⠀⠀⠀⠀⠀⠀⠀⠀⠀]],
  [[⣿⣿⣿⣿⣿⣿⡿⠀⠀⠀⠀⠀⠀⠀⡥⠂⡐⠀⠁⠑⣾⣿⣿⣾⣿⣿⣿⡿⣷⣷⣿⣧⣾⣿⣿⣿⣿⣿⣿ ⠀⠀⠀⠀⠀⠀⠀⠈⢻⣿⣿⣿⣿⣿⣿⣦⠀⠸⣿⣿⣿⣿⣿⣷⣄⡊⣰⠶⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀]],
  [[⣿⣿⡿⣿⣍⡴⠆⠀⠀⠀⠀⠀⠀⠀⠀⣼⣄⣀⣷⡄⣙⢿⣿⣿⣿⣿⣯⣶⣿⣿⢟⣾⣿⣿⢡⣿⣿⣿⣿ ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⢿⣿⣿⣿⣿⣿⡆⠀⢻⣿⣿⣿⣿⣿⡿⠋⠁⠀⠀⠀⠀⠀⣸⠁⢀⠀⠀⠀⠀⢠]],
  [[⣿⡏⣾⣿⣿⣿⣷⣦⠀⠀⠀⢀⡀⠀⠀⠠⣭⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠟⣡⣾⣿⣿⢏⣾⣿⣿⣿⣿ ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢻⣿⣿⣿⣿⡇⠀⠀⠙⠻⠿⠋⠁⠀⠀⠀⠀⠀⢠⣤⣼⣿⠀⣞⣾⣤⡀⠀⠀]],
  [[⣿⣿⣿⣿⣿⣿⣿⣿⡴⠀⠀⠀⠀⠀⠠⠀⠰⣿⣿⣿⣷⣿⠿⠿⣿⣿⣭⡶⣫⠔⢻⢿⢇⣾⣿⣿⣿⣿⣿ ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⢿⣿⡟⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣶⣿⣿⣿⡇⣼⣿⣿⣿⣿⡆⠀]],
  [[⣿⣿⣿⡿⢫⣽⠟⣋⠀⠀⠀⠀⣶⣦⠀⠀⠀⠈⠻⣿⣿⣿⣾⣿⣿⣿⣿⡿⣣⣿⣿⢸⣾⣿⣿⣿⣿⣿⣿ ⠄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠻⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠻⣿⣿⣿⣿⡟⣼⣿⣿⣿⣿⣿⣷⣶]],
  [[⡿⠛⣹⣶⣶⣶⣾⣿⣷⣦⣤⣤⣀⣀⠀⠀⠀⠀⠀⠀⠉⠛⠻⢿⣿⡿⠫⠾⠿⠋⣿⣿⣿⣿⣿⣿⣿⣿⣿ ⠀⠈⢢⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠻⣿⣿⣽⣿⣿⣿⣿⣿⣿⣿⣿]],
  [[⢀⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣀⡆⣠⢀⣴⣏⡀⠀⠀⠀⠉⠀⠀⢀⣠⣰⣿⣿⣿⣿⣿⣿⣿⣿⣿ ⣷⣄⠀⠿⣷⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿]],
  [[⠿⠛⠛⠛⠛⠛⠛⠻⢿⣿⣿⣿⣿⣯⣟⠷⢷⣿⡿⠋⠀⠀⠀⠀⣵⡀⢠⡿⠋⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿ ⣿⣆⠉⠂⢄⠉⠑⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠻⣿⣿⣿⣿⣿⣿⣿]],
  [[⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠉⠛⢿⣿⣿⠂⠀⠀⠀⠀⠀⢀⣽⣿⣿⣿⣿⣿⣿⣿⣍⠛⠿⣿⣿⣿⣿⣿ ⣿⣿⣷⡀⠀⠈⠒⢄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠛⠿⠋⠉⠉⠀]],
}

-- Set menu
local M = {}
function M.shortcuts()
  local keybind_opts = { silent = true, noremap = true }
  vim.api.nvim_create_autocmd({ 'User' }, {
    pattern = { 'AlphaReady' },
    callback = function(_)
      vim.api.nvim_buf_set_keymap(0, 'n', 'e', '<cmd>ene| Neotree<CR>', keybind_opts)
      vim.api.nvim_buf_set_keymap(0, 'n', 't', '<cmd>Telescope colorscheme<CR>', keybind_opts)
      vim.api.nvim_buf_set_keymap(0, 'n', 'f', '<cmd>Telescope find_files<CR>', keybind_opts)
      vim.api.nvim_buf_set_keymap(0, 'n', 'r', '<cmd>Telescope oldfiles<CR>', keybind_opts)
      vim.api.nvim_buf_set_keymap(0, 'n', 's', '<cmd>e $MYVIMRC | :cd %:p:h |  wincmd k | Neotree<CR>', keybind_opts)
    end,
  })
  return {
    {
      type = 'text',
      val = {
        ' New File [e]      Themes [t]     Find File [f]      Recent [r]     Settings [s]',
      },
      opts = {
        position = 'center',
        hl = {
          --{ "String", 1, 1000 },
          { 'Keyword', 1, 1000 },
          --{ "Function", 60, 100 },
          --{ "Constant", 100, 140 },
        },
      },
    },
  }
end
M.section_shortcuts = { type = 'group', val = M.shortcuts }

dashboard.section.buttons.val = {
  dashboard.button('e', '  > New file', ':ene| Neotree<CR>'),
  dashboard.button('f', '  > Find file', ':Telescope find_files<CR>'),
  dashboard.button('r', '  > Recent', ':Telescope oldfiles<CR>'),
  dashboard.button('s', '  > Settings', ':e $MYVIMRC | :cd %:p:h |  wincmd k | Neotree<CR> '),
}

local mru_title = startify.mru_title
local mru = startify.mru
local my_mru = mru(0, cdir, 5)
local my_mru_cwd = {
  type = 'group',
  val = {
    { type = 'padding', val = 1 },
    { type = 'text', val = mru_title, opts = { hl = 'SpecialComment', shrink_margin = false } },
    {
      type = 'group',
      val = function()
        return { mru(0, vim.fn.getcwd(), 10) }
      end,
      opts = { shrink_margin = false },
    },
  },
}

--local my_mru_cwd = startify.mru(0,vim.fn.getcwd())
dashboard.opts.layout = {
  { type = 'padding', val = 2 },
  dashboard.section.header,
  { type = 'padding', val = 3 },
  --   startify.section.top_buttons,
  --   dashboard.section.buttons,
  M.section_shortcuts,
  { type = 'padding', val = 3 },
  startify.section.mru_cwd,
  --my_mru_cwd,
  --theta.section_mru,
  { type = 'padding', val = 0 },
  startify.section.mru,
  --my_mru,
  --my_mru_cwd,
  { type = 'padding', val = 1 },
  --  startify.section.bottom_buttons,
  startify.section.footer,
}
--local opts = {
--    layout = {
--        { type = "padding", val = 2 },
--        section.header,
--        { type = "padding", val = 2 },
--        section.buttons,
--        section.footer,
--    },
--    opts = {
--        margin = 5,
--    },
--}
-- Set footer
--   NOTE: This is currently a feature in my fork of alpha-nvim (opened PR #21, will update snippet if added to main)
--   To see test this yourself, add the function as a dependecy in packer and uncomment the footer lines
--   ```init.lua
--   return require('packer').startup(function()
--       use 'wbthomason/packer.nvim'
--       use {
--           'goolord/alpha-nvim', branch = 'feature/startify-fortune',
--           requires = {'BlakeJC94/alpha-nvim-fortune'},
--           config = function() require("config.alpha") end
--       }
--   end)
--   ```
-- local fortune = require("alpha.fortune")
-- dashboard.section.footer.val = fortune()

-- Send config to alpha
alpha.setup(dashboard.opts)

-- Disable folding on alpha buffer
vim.cmd [[
    autocmd FileType alpha setlocal nofoldenable
]]

--require'alpha'.setup(startify.opts)
--    local alpha = require('alpha')
--    local dashboard = require('alpha.themes.dashboard')
--
--    local header = {
--        type = 'text',
--        --val = read_header_from_file('$HOME/.splash'),
--        val = {
--        [[⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿]],
--		[[⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠋⣠⣶⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿]],
--		[[⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣡⣾⣿⣿⣿⣿⣿⢿⣿⣿⣿⣿⣿⣿⣟⠻⣿⣿⣿⣿⣿⣿⣿⣿]],
--		[[⣿⣿⣿⣿⣿⣿⣿⣿⡿⢫⣷⣿⣿⣿⣿⣿⣿⣿⣾⣯⣿⡿⢧⡚⢷⣌⣽⣿⣿⣿⣿⣿⣶⡌⣿⣿⣿⣿⣿⣿]],
--		[[⣿⣿⣿⣿⣿⣿⣿⣿⠇⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣮⣇⣘⠿⢹⣿⣿⣿⣿⣿⣻⢿⣿⣿⣿⣿⣿]],
--		[[⣿⣿⣿⣿⣿⣿⣿⣿⠀⢸⣿⣿⡇⣿⣿⣿⣿⣿⣿⣿⣿⡟⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣦⣻⣿⣿⣿⣿]],
--		[[⣿⣿⣿⣿⣿⣿⣿⡇⠀⣬⠏⣿⡇⢻⣿⣿⣿⣿⣿⣿⣿⣷⣼⣿⣿⣸⣿⣿⣿⣿⣿⣿⣿⣿⣿⢻⣿⣿⣿⣿]],
--		[[⣿⣿⣿⣿⣿⣿⣿⠀⠈⠁⠀⣿⡇⠘⡟⣿⣿⣿⣿⣿⣿⣿⣿⡏⠿⣿⣟⣿⣿⣿⣿⣿⣿⣿⣿⣇⣿⣿⣿⣿]],
--		[[⣿⣿⣿⣿⣿⣿⡏⠀⠀⠐⠀⢻⣇⠀⠀⠹⣿⣿⣿⣿⣿⣿⣩⡶⠼⠟⠻⠞⣿⡈⠻⣟⢻⣿⣿⣿⣿⣿⣿⣿]],
--		[[⣿⣿⣿⣿⣿⣿⡇⠀⠀⠀⠀⠀⢿⠀⡆⠀⠘⢿⢻⡿⣿⣧⣷⢣⣶⡃⢀⣾⡆⡋⣧⠙⢿⣿⣿⣟⣿⣿⣿⣿]],
--		[[⣿⣿⣿⣿⣿⣿⡿⠀⠀⠀⠀⠀⠀⠀⡥⠂⡐⠀⠁⠑⣾⣿⣿⣾⣿⣿⣿⡿⣷⣷⣿⣧⣾⣿⣿⣿⣿⣿⣿⣿]],
--		[[⣿⣿⡿⣿⣍⡴⠆⠀⠀⠀⠀⠀⠀⠀⠀⣼⣄⣀⣷⡄⣙⢿⣿⣿⣿⣿⣯⣶⣿⣿⢟⣾⣿⣿⢡⣿⣿⣿⣿⣿]],
--		[[⣿⡏⣾⣿⣿⣿⣷⣦⠀⠀⠀⢀⡀⠀⠀⠠⣭⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠟⣡⣾⣿⣿⢏⣾⣿⣿⣿⣿⣿]],
--		[[⣿⣿⣿⣿⣿⣿⣿⣿⡴⠀⠀⠀⠀⠀⠠⠀⠰⣿⣿⣿⣷⣿⠿⠿⣿⣿⣭⡶⣫⠔⢻⢿⢇⣾⣿⣿⣿⣿⣿⣿]],
--		[[⣿⣿⣿⡿⢫⣽⠟⣋⠀⠀⠀⠀⣶⣦⠀⠀⠀⠈⠻⣿⣿⣿⣾⣿⣿⣿⣿⡿⣣⣿⣿⢸⣾⣿⣿⣿⣿⣿⣿⣿]],
--		[[⡿⠛⣹⣶⣶⣶⣾⣿⣷⣦⣤⣤⣀⣀⠀⠀⠀⠀⠀⠀⠉⠛⠻⢿⣿⡿⠫⠾⠿⠋⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿]],
--		[[⢀⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣀⡆⣠⢀⣴⣏⡀⠀⠀⠀⠉⠀⠀⢀⣠⣰⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿]],
--		[[⠿⠛⠛⠛⠛⠛⠛⠻⢿⣿⣿⣿⣿⣯⣟⠷⢷⣿⡿⠋⠀⠀⠀⠀⣵⡀⢠⡿⠋⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿]],
--		[[⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠉⠛⢿⣿⣿⠂⠀⠀⠀⠀⠀⢀⣽⣿⣿⣿⣿⣿⣿⣿⣍⠛⠿⣿⣿⣿⣿⣿⣿]],
--    },
--        opts = {
--            position = 'center',
--        }
--    }
--
--    local buttons = {
--        type = 'group',
--        val = {
--            {
--                type = 'text',
--                val = 'Quick actions',
--                opts = { position = 'center' }
--            },
--            {
--                type = 'padding',
--                val = 1,
--            },
--            dashboard.button('<leader>n', '  New File', ':enew | Neotree<CR>'),
--            dashboard.button('<leader>o', '  Old Files', ':Telescope oldfiles<CR>'),
--            dashboard.button('<leader>ff', '  Find File', ':Telescope find_files<CR>'),
--            dashboard.button('<leader>fg', '  Live Grep', ':Telescope live_grep<CR>'),
--        }
--    }
--
--    local sessions = {
--        type = 'group',
--        val = function ()
--            local autosession = require('auto-session')
--            local sessions_root = autosession.get_root_dir()
--            local sessions = autosession.get_session_files()
--            local val = {
--                {
--                    type = 'text',
--                    val = 'Recent sessions',
--                    opts = { position = 'center' }
--                },
--                {
--                    type = 'padding',
--                    val = 1,
--                },
--            }
--            table.sort(sessions, function (a, b)
--                local a_time = vim.fn.getftime(sessions_root .. a.path)
--                local b_time = vim.fn.getftime(sessions_root .. b.path)
--                return a_time > b_time
--            end)
--            for i, session in ipairs(sessions) do
--                if i > 5 then
--                    break
--                end
--                local sc = '<leader>l' .. tostring(i)
--                local session_path = sessions_root .. session.path
--                table.insert(val, {
--                    type = 'button',
--                    val = tostring(i) .. '\t' .. session.display_name,
--                    on_press = function ()
--                        autosession.RestoreSession(session_path)
--                        --require('neo-tree').open()
--                    end,
--                    opts = {
--                        --keymap = { 'n', sc, ':RestoreSession ' .. session_path .. '<CR>', {} },
--                        position = 'center',
--                        width = 80,
--                        shortcut = sc,
--                        align_shortcut = 'right',
--                        hl_shortcut = 'Keyword',
--                    }
--                })
--            end
--            return val
--        end,
--    }
--
----    alpha.setup {
----        layout = {
----            {
----                type = 'padding',
----                val = 2,
----            },
----            header,
----            {
----                type = 'padding',
----                val = 2,
----            },
----            buttons,
----            {
----                type = 'padding',
----                val = 2,
----            },
----            sessions,
----        },
----    }
--
--local opts = {
--    layout = {
--        { type = "text", val = 2 },
--        header,
--        { type = "text", val = 2 },
--        buttons,
--        sessions,
--    },
--    opts = {
--        margin = 5,
--    },
--}
--
--return {
--    button = button,
--    opts = opts,
--}
